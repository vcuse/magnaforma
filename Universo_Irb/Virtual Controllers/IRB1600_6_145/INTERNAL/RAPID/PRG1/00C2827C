MODULE Module1
        
     VAR robtarget position;
     VAR robtarget starting_position;
     VAR robtarget home;
     VAR jointtarget joints;
     VAR speeddata velocity;
     VAR num speed;
    

    PROC main()
        
!home := [ [1307.14, 0.00, 1120.00], [1, 0, 0, 0], [-1, -1, 0, 1], [ 0, 0, 9E9, 9E9, 9E9, 9E9]];    
!MoveJ home, v100,z50,Tooldata_9;
move 0,-0,0,17.55,0,0,400,1;
move 1.01,-22.47,0,16.62,0,0,400,0;
move 4.04,-44.76,0,15.55,0,0,400,0;
move 9.06,-66.68,0,14.36,0,0,400,0;
move 16.03,-88.07,0,13.05,0,0,500,0;
move 24.89,-108.74,0,11.63,0,0,500,0;
move 35.57,-128.53,0,10.12,0,0,500,0;
move 47.99,-147.29,0,8.53,0,0,500,0;
move 62.05,-164.85,0,6.87,0,0,500,0;
move 77.63,-181.07,0,5.16,0,0,500,0;
move 94.6,-195.83,0,3.4,0,0,500,0;
move 112.83,-209.01,0,1.61,0,0,500,0;
move 132.17,-220.49,0,-0.18,0,0,500,0;
move 152.46,-230.19,0,-1.98,0,0,500,0;
move 173.55,-238.02,0,-3.76,0,0,500,0;
move 195.25,-243.93,0,-5.51,0,0,500,0;
move 217.39,-247.86,0,-7.22,0,0,500,0;
move 239.8,-249.79,0,-8.86,0,0,500,0;
move 262.3,-249.7,0,-10.44,0,0,800,0;
move 284.69,-247.58,0,-11.93,0,0,800,0;
move 306.8,-243.46,0,-13.33,0,0,800,0;
move 328.45,-237.37,0,-14.61,0,0,800,0;
move 349.47,-229.36,0,-15.78,0,0,800,0;
move 369.68,-219.49,0,-16.82,0,0,800,0;
move 388.92,-207.85,0,-17.73,0,0,800,0;
move 407.04,-194.52,0,-18.49,0,0,800,0;
move 423.89,-179.62,0,-19.1,0,0,800,0;
move 439.33,-163.26,0,-19.55,0,0,800,0;
move 453.24,-145.58,0,-19.85,0,0,800,0;
move 465.5,-126.73,0,-19.99,0,0,800,0;
move 476.02,-106.84,0,-19.97,0,0,800,0;
move 484.71,-86.1,0,-19.78,0,0,800,0;
move 491.49,-64.65,0,-19.43,0,0,800,0;
move 496.33,-42.69,0,-18.93,0,0,800,0;
move 499.17,-20.38,0,-18.27,0,0,800,0;
move 499.99,2.1,0,-17.47,0,0,800,0;
move 498.79,24.56,0,-16.52,0,0,800,0;
move 495.58,46.82,0,-15.45,0,0,800,0;
move 490.37,68.71,0,-14.24,0,0,800,0;
move 483.23,90.03,0,-12.92,0,0,800,0;
move 474.19,110.63,0,-11.5,0,0,800,0;
move 463.34,130.33,0,-9.98,0,0,500,0;
move 450.76,148.98,0,-8.38,0,0,500,0;
move 436.56,166.42,0,-6.71,0,0,500,0;
move 420.85,182.51,0,-4.99,0,0,500,0;
move 403.75,197.13,0,-3.23,0,0,500,0;
move 385.41,210.15,0,-1.45,0,0,500,0;
move 365.97,221.47,0,0.35,0,0,500,0;
move 345.6,231,0,2.15,0,0,500,0;
move 324.45,238.66,0,3.93,0,0,500,0;
move 302.7,244.38,0,5.67,0,0,500,0;
move 280.52,248.13,0,7.37,0,0,500,0;
move 258.1,249.87,0,9.02,0,0,500,0;
move 235.61,249.59,0,10.58,0,0,500,0;
move 213.23,247.28,0,12.07,0,0,500,0;
move 191.15,242.98,0,13.45,0,0,500,0;
move 169.55,236.7,0,14.73,0,0,400,0;
move 148.61,228.52,0,15.88,0,0,400,0;
move 128.48,218.48,0,16.91,0,0,400,0;
move 109.33,206.67,0,17.8,0,0,400,0;
move 91.33,193.19,0,18.55,0,0,400,0;
move 74.61,178.15,0,19.15,0,0,400,0;
move 59.3,161.66,0,19.59,0,0,400,0;
move 45.55,143.87,0,19.87,0,0,400,0;
move 33.44,124.91,0,19.99,0,0,400,0;
move 23.09,104.94,0,19.96,0,0,400,0;
move 14.58,84.12,0,19.75,0,0,400,0;
move 7.97,62.62,0,19.39,0,0,400,0;
move 3.32,40.62,0,18.88,0,0,400,0;
move 0.67,18.28,0,18.21,0,0,400,0;
move 0.04,-4.2,0,17.39,0,0,400,0;
move 1.42,-26.65,0,16.43,0,0,400,0;
move 4.83,-48.89,0,15.34,0,0,400,0;
move 10.21,-70.72,0,14.12,0,0,400,0;
move 17.54,-91.99,0,12.79,0,0,500,0;
move 26.75,-112.51,0,11.36,0,0,500,0;
move 37.76,-132.12,0,9.83,0,0,500,0;
move 50.5,-150.66,0,8.23,0,0,500,0;
move 64.85,-167.98,0,6.56,0,0,500,0;
move 80.69,-183.94,0,4.83,0,0,500,0;
move 97.91,-198.42,0,3.07,0,0,500,0;
move 116.36,-211.28,0,1.28,0,0,500,0;
move 135.89,-222.44,0,-0.52,0,0,500,0;
move 156.35,-231.8,0,-2.32,0,0,500,0;
move 177.56,-239.27,0,-4.09,0,0,500,0;
move 199.36,-244.82,0,-5.83,0,0,500,0;
move 221.57,-248.38,0,-7.53,0,0,500,0;
move 244.01,-249.93,0,-9.16,0,0,500,0;
move 266.49,-249.46,0,-10.73,0,0,800,0;
move 288.85,-246.96,0,-12.2,0,0,800,0;
move 310.89,-242.47,0,-13.57,0,0,800,0;
move 332.43,-236.02,0,-14.84,0,0,800,0;
move 353.31,-227.65,0,-15.98,0,0,800,0;
move 373.36,-217.45,0,-17,0,0,800,0;
move 392.4,-205.48,0,-17.88,0,0,800,0;
move 410.29,-191.85,0,-18.61,0,0,800,0;
move 426.89,-176.67,0,-19.19,0,0,800,0;
move 442.05,-160.05,0,-19.62,0,0,800,0;
move 455.66,-142.14,0,-19.89,0,0,800,0;
move 467.6,-123.09,0,-20,0,0,800,0;
move 477.78,-103.03,0,-19.94,0,0,800,0;
move 486.12,-82.14,0,-19.73,0,0,800,0;
move 492.55,-60.59,0,-19.35,0,0,800,0;
move 497.01,-38.54,0,-18.82,0,0,800,0;
move 499.48,-16.18,0,-18.14,0,0,800,0;
move 499.92,6.3,0,-17.3,0,0,800,0;
move 498.34,28.74,0,-16.33,0,0,800,0;
move 494.75,50.95,0,-15.23,0,0,800,0;
move 489.18,72.74,0,-14,0,0,800,0;
move 481.68,93.94,0,-12.66,0,0,800,0;
move 472.3,114.38,0,-11.22,0,0,800,0;
move 461.12,133.9,0,-9.69,0,0,500,0;
move 448.23,152.33,0,-8.07,0,0,500,0;
move 433.73,169.53,0,-6.4,0,0,500,0;
move 417.75,185.36,0,-4.67,0,0,500,0;
move 400.41,199.69,0,-2.9,0,0,500,0;
move 381.86,212.4,0,-1.11,0,0,500,0;
move 362.23,223.39,0,0.69,0,0,500,0;
move 341.7,232.57,0,2.48,0,0,500,0;
move 320.43,239.88,0,4.26,0,0,500,0;
move 298.58,245.23,0,5.99,0,0,500,0;
move 276.34,248.61,0,7.69,0,0,500,0;
move 253.89,249.97,0,9.31,0,0,500,0;
move 231.41,249.31,0,10.87,0,0,500,0;
move 209.08,246.63,0,12.33,0,0,500,0;
move 187.08,241.95,0,13.7,0,0,500,0;
move 165.59,235.32,0,14.95,0,0,400,0;
move 144.78,226.78,0,16.09,0,0,400,0;
move 124.82,216.4,0,17.09,0,0,400,0;
move 105.88,204.28,0,17.95,0,0,400,0;
move 88.1,190.5,0,18.67,0,0,400,0;
move 71.63,175.17,0,19.24,0,0,400,0;
move 56.61,158.43,0,19.65,0,0,400,0;
move 43.16,140.41,0,19.91,0,0,400,0;
move 31.37,121.25,0,20,0,0,400,0;
move 21.36,101.11,0,19.93,0,0,400,0;
move 13.2,80.15,0,19.7,0,0,400,0;
move 6.95,58.54,0,19.31,0,0,400,0;
move 2.67,36.46,0,18.76,0,0,400,0;
move 0.4,14.09,0,18.06,0,0,400,0;
move 0.14,-8.41,0,17.22,0,0,400,0;
move 1.91,-30.83,0,16.24,0,0,400,0;
move 5.68,-53,0,15.12,0,0,400,0;
move 11.44,-74.75,0,13.88,0,0,500,0;
move 19.12,-95.89,0,12.53,0,0,500,0;
move 28.67,-116.25,0,11.08,0,0,500,0;
move 40.02,-135.67,0,9.54,0,0,500,0;
move 53.06,-153.99,0,7.92,0,0,500,0;
move 67.7,-171.07,0,6.24,0,0,500,0;
move 83.81,-186.77,0,4.5,0,0,500,0;
move 101.27,-200.95,0,2.73,0,0,500,0;
move 119.93,-213.5,0,0.94,0,0,500,0;
move 139.65,-224.33,0,-0.86,0,0,500,0;
move 160.26,-233.34,0,-2.65,0,0,500,0;
move 181.59,-240.46,0,-4.42,0,0,500,0;
move 203.48,-245.63,0,-6.16,0,0,500,0;
move 225.75,-248.82,0,-7.84,0,0,500,0;
move 248.21,-249.99,0,-9.46,0,0,500,0;
move 270.68,-249.14,0,-11.01,0,0,800,0;
move 292.99,-246.28,0,-12.46,0,0,800,0;
move 314.95,-241.41,0,-13.82,0,0,800,0;
move 336.39,-234.6,0,-15.06,0,0,800,0;
move 357.13,-225.89,0,-16.18,0,0,800,0;
move 376.99,-215.34,0,-17.18,0,0,800,0;
move 395.83,-203.06,0,-18.03,0,0,800,0;
move 413.49,-189.13,0,-18.73,0,0,800,0;
move 429.83,-173.67,0,-19.29,0,0,800,0;
move 444.71,-156.8,0,-19.68,0,0,800,0;
move 458.02,-138.67,0,-19.92,0,0,800,0;
move 469.64,-119.41,0,-20,0,0,800,0;
move 479.48,-99.19,0,-19.92,0,0,800,0;
move 487.47,-78.16,0,-19.67,0,0,800,0;
move 493.53,-56.5,0,-19.26,0,0,800,0;
move 497.62,-34.38,0,-18.7,0,0,800,0;
move 499.71,-11.99,0,-17.99,0,0,800,0;
move 499.78,10.51,0,-17.13,0,0,800,0;
move 497.82,32.91,0,-16.14,0,0,800,0;
move 493.86,55.05,0,-15.01,0,0,800,0;
move 487.93,76.75,0,-13.76,0,0,800,0;
move 480.07,97.82,0,-12.4,0,0,800,0;
move 470.34,118.11,0,-10.94,0,0,800,0;
move 458.84,137.43,0,-9.39,0,0,500,0;
move 445.64,155.65,0,-7.77,0,0,500,0;
move 430.86,172.6,0,-6.08,0,0,500,0;
move 414.61,188.16,0,-4.34,0,0,500,0;
move 397.04,202.19,0,-2.57,0,0,500,0;
move 378.27,214.59,0,-0.77,0,0,500,0;
move 358.46,225.25,0,1.02,0,0,500,0;
move 337.78,234.08,0,2.82,0,0,500,0;
move 316.38,241.03,0,4.58,0,0,500,0;
move 294.45,246.02,0,6.31,0,0,500,0;
move 272.16,249.02,0,7.99,0,0,500,0;
move 249.69,250,0,9.61,0,0,500,0;
move 227.22,248.96,0,11.15,0,0,500,0;
move 204.94,245.91,0,12.6,0,0,500,0;
move 183.02,240.86,0,13.94,0,0,500,0;
move 161.64,233.86,0,15.17,0,0,400,0;
move 140.98,224.98,0,16.28,0,0,400,0;
move 121.2,214.27,0,17.26,0,0,400,0;
move 102.46,201.82,0,18.1,0,0,400,0;
move 84.92,187.75,0,18.79,0,0,400,0;
move 68.71,172.15,0,19.33,0,0,400,0;
move 53.98,155.16,0,19.71,0,0,400,0;
move 40.82,136.91,0,19.94,0,0,400,0;
move 29.36,117.56,0,20,0,0,400,0;
move 19.69,97.25,0,19.9,0,0,400,0;
move 11.88,76.16,0,19.64,0,0,400,0;
move 6,54.45,0,19.22,0,0,400,0;
move 2.1,32.3,0,18.64,0,0,400,0;
move 0.2,9.89,0,17.92,0,0,400,0;
move 0.32,-12.61,0,17.05,0,0,400,0;
move 2.46,-35,0,16.04,0,0,400,0;
move 6.61,-57.1,0,14.9,0,0,400,0;
move 12.73,-78.75,0,13.64,0,0,500,0;
move 20.76,-99.75,0,12.27,0,0,500,0;
move 30.66,-119.95,0,10.8,0,0,500,0;
move 42.33,-139.18,0,9.24,0,0,500,0;
move 55.68,-157.28,0,7.61,0,0,500,0;
move 70.6,-174.11,0,5.92,0,0,500,0;
move 86.97,-189.53,0,4.18,0,0,500,0;
move 104.67,-203.42,0,2.4,0,0,500,0;
move 123.54,-215.66,0,0.61,0,0,500,0;
move 143.44,-226.15,0,-1.19,0,0,500,0;
move 164.19,-234.81,0,-2.98,0,0,500,0;
move 185.64,-241.57,0,-4.75,0,0,500,0;
move 207.62,-246.38,0,-6.47,0,0,500,0;
move 229.93,-249.19,0,-8.15,0,0,500,0;
move 252.41,-249.99,0,-9.76,0,0,500,0;
move 274.87,-248.76,0,-11.29,0,0,800,0;
move 297.13,-245.52,0,-12.73,0,0,800,0;
move 319,-240.29,0,-14.06,0,0,800,0;
move 340.32,-233.11,0,-15.28,0,0,800,0;
move 360.91,-224.05,0,-16.38,0,0,800,0;
move 380.6,-213.18,0,-17.34,0,0,800,0;
move 399.23,-200.58,0,-18.17,0,0,800,0;
move 416.65,-186.35,0,-18.85,0,0,800,0;
move 432.73,-170.62,0,-19.37,0,0,800,0;
move 447.32,-153.51,0,-19.74,0,0,800,0;
move 460.32,-135.15,0,-19.95,0,0,800,0;
move 471.62,-115.7,0,-20,0,0,800,0;
move 481.12,-95.31,0,-19.88,0,0,800,0;
move 488.75,-74.15,0,-19.61,0,0,800,0;
move 494.45,-52.4,0,-19.17,0,0,800,0;
move 498.17,-30.21,0,-18.58,0,0,800,0;
move 499.88,-7.79,0,-17.84,0,0,800,0;
move 499.57,14.7,0,-16.96,0,0,800,0;
move 497.24,37.08,0,-15.94,0,0,800,0;
move 492.9,59.15,0,-14.78,0,0,800,0;
move 486.6,80.74,0,-13.51,0,0,800,0;
move 478.39,101.68,0,-12.13,0,0,800,0;
move 468.33,121.79,0,-10.66,0,0,800,0;
move 456.5,140.92,0,-9.09,0,0,500,0;
move 442.99,158.91,0,-7.45,0,0,500,0;
move 427.93,175.62,0,-5.76,0,0,500,0;
move 411.43,190.9,0,-4.01,0,0,500,0;
move 393.62,204.63,0,-2.23,0,0,500,0;
move 374.64,216.71,0,-0.44,0,0,500,0;
move 354.66,227.04,0,1.36,0,0,500,0;
move 333.83,235.53,0,3.15,0,0,500,0;
move 312.32,242.11,0,4.91,0,0,500,0;
move 290.31,246.73,0,6.63,0,0,500,0;
move 267.97,249.35,0,8.3,0,0,500,0;
move 245.49,249.96,0,9.9,0,0,500,0;
move 223.04,248.54,0,11.43,0,0,500,0;
move 200.81,245.11,0,12.85,0,0,500,0;
move 178.98,239.7,0,14.18,0,0,400,0;
move 157.72,232.35,0,15.39,0,0,400,0;
move 137.21,223.11,0,16.48,0,0,400,0;
move 117.62,212.07,0,17.43,0,0,400,0;
move 99.09,199.31,0,18.24,0,0,400,0;
move 81.79,184.94,0,18.9,0,0,400,0;
move 65.85,169.08,0,19.41,0,0,400,0;
move 51.39,151.84,0,19.77,0,0,400,0;
move 38.55,133.38,0,19.96,0,0,400,0;
move 27.42,113.83,0,19.99,0,0,400,0;
move 18.09,93.37,0,19.86,0,0,400,0;
move 10.64,72.14,0,19.57,0,0,400,0;
move 5.12,50.34,0,19.12,0,0,400,0;
move 1.59,28.13,0,18.52,0,0,400,0;
move 0.06,5.68,0,17.77,0,0,400,0;







    ENDPROC
    
! function used to produce movement 
    PROC move(num x, num z,num rx, num ry, num rz,num joint1, num myspeed, num restart)
        
     IF restart = 1 THEN 
         starting_position := CRobT(\TaskName:="T_ROB1" \Tool:=Tooldata_9 \WObj:=Workobject_2);  
     ENDIF 
     
     ConfJ\On; 
     speed:= myspeed;
     velocity := [speed,90,5000,1000];
    
     
     !!!! Method Two !!!!!!
     position :=RelTool(starting_position, x,0, z \Rx:=rx, \Ry:=ry, \Rz:=rz);
     joints := CalcJointT(position,Tooldata_9 \WObj:=Workobject_2);
     joints.robax.rax_1 :=joint1;
     MoveAbsJ joints,velocity,z200,Tooldata_9,\WObj:=wobj0; 
     !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
    ENDPROC

 

ENDMODULE