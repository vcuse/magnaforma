MODULE Module1
        
     VAR robtarget current_position;
     VAR jointtarget joints;

    PROC main()
        
	move -25.0,0,0,0,0.0,-0.0,100,1;
	move -21.0,0,0,0,4.48,-65.52,100,0;
	move -17.0,0,0,0,8.81,-124.71,100,0;
	move -13.0,0,0,0,12.85,-172.07,100,0;
	move -7.0,0,0,0,16.48,-203.6,100,0;
	move -2.0,0,0,0,19.58,-217.34,700,0;
	move 3.0,0,0,0,22.05,-213.59,300,0;
	move 9.0,0,0,0,23.8,-194.93,300,0;
	move 14.0,0,0,0,24.79,-165.81,300,0;
	move 18.0,0,0,0,24.97,-132.05,300,0;
	move 22.0,0,0,0,24.35,-100.05,300,0;
	move 25.0,0,0,0,22.94,-75.99,300,0;
	move 28.0,0,0,0,20.78,-65.04,300,0;
	move 29.0,0,0,0,17.96,-70.67,700,0;
	move 30.0,0,0,0,14.56,-94.25,100,0;
	move 30.0,0,0,0,10.68,-134.81,100,0;
	move 28.0,0,0,0,6.47,-189.25,100,0;
	move 26.0,0,0,0,2.04,-252.66,100,0;
	move 23.0,0,0,0,-2.46,-318.98,100,0;
	move 19.0,0,0,0,-6.87,-381.79,100,0;
	move 15.0,0,0,0,-11.06,-435.11,100,0;
	move 10.0,0,0,0,-14.9,-474.19,100,0;
	move 5.0,0,0,0,-18.25,-496.1,700,0;
	move -1.0,0,0,0,-21.02,-500.09,300,0;
	move -6.0,0,0,0,-23.1,-487.73,300,0;
	move -11.0,0,0,0,-24.44,-462.7,300,0;
	move -16.0,0,0,0,-24.99,-430.26,300,0;
	move -20.0,0,0,0,-24.73,-396.67,300,0;
	move -24.0,0,0,0,-23.67,-368.29,300,0;
	move -27.0,0,0,0,-21.85,-350.86,300,0;
	move -29.0,0,0,0,-19.32,-348.67,700,0;
	move -30.0,0,0,0,-16.17,-364.09,100,0;
	move -30.0,0,0,0,-12.49,-397.21,100,0;
	move -29.0,0,0,0,-8.41,-445.88,100,0;
	move -27.0,0,0,0,-4.06,-505.91,100,0;
	move -24.0,0,0,0,0.42,-571.71,100,0;
	move -21.0,0,0,0,4.89,-636.9,100,0;
	move -17.0,0,0,0,9.2,-695.2,100,0;
	move -12.0,0,0,0,13.21,-741.22,100,0;
	move -7.0,0,0,0,16.8,-771.14,100,0;
	move -2.0,0,0,0,19.84,-783.19,700,0;
	move 4.0,0,0,0,22.24,-777.91,300,0;
	move 9.0,0,0,0,23.93,-758.05,300,0;
	move 14.0,0,0,0,24.84,-728.24,300,0;
	move 19.0,0,0,0,24.95,-694.37,300,0;
	move 22.0,0,0,0,24.25,-662.86,300,0;
	move 26.0,0,0,0,22.77,-639.83,300,0;
	move 28.0,0,0,0,20.55,-630.31,300,0;
	move 29.0,0,0,0,17.67,-637.6,700,0;
	move 30.0,0,0,0,14.21,-662.84,100,0;
	move 30.0,0,0,0,10.3,-704.86,100,0;
	move 28.0,0,0,0,6.06,-760.37,100,0;
	move 26.0,0,0,0,1.62,-824.31,100,0;
	move 23.0,0,0,0,-2.87,-890.58,100,0;
	move 19.0,0,0,0,-7.27,-952.74,100,0;
	move 14.0,0,0,0,-11.44,-1004.91,100,0;
 
    ENDPROC

    ! function used to produce movement 
    PROC move(num x, num z,num rx, num ry, num rz, num joint1)
     
     	current_position := CRobT(\TaskName:="T_ROB1");  
     	MoveJ (RelTool (current_position, x,0, z \Rx:=rx, \Ry:=ry, \Rz:=0)),v200,z200,Tooldata_9,\wobj:=wobj0;
     	joints := CJointT(\TaskName:="T_ROB1");
     	joints.robax.rax_1 := joints.robax.rax_1+joint1;
     	MoveAbsJ joints,v200,z200,tool0,\WObj:=wobj0; 
        
    ENDPROC

ENDMODULE